<!DOCTYPE html><html lang="en-US"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Deploying a Next.js Site using Github Actions</title><meta name="description" content="GitHub Actions to Deploy a Static Site built with Next.js"/><meta property="og:type" content="website"/><meta name="og:title" property="og:title" content="Deploying a Next.js Site using Github Actions"/><meta name="og:description" property="og:description" content="GitHub Actions to Deploy a Static Site built with Next.js"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Deploying a Next.js Site using Github Actions"/><meta name="twitter:description" content="GitHub Actions to Deploy a Static Site built with Next.js"/><meta name="twitter:creator" content="franciscojarceo"/><link rel="icon" type="image/png" href="/favicon.ico"/><link rel="apple-touch-icon" href="/favicon.ico"/><meta name="next-head-count" content="13"/><link rel="preload" href="/_next/static/css/2ddc893e6f67eaa4.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/2ddc893e6f67eaa4.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-2555a4296ab7a1b2.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/framework-fae63b21a27d6472.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/main-de2c74f8722a8d2e.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/_app-0eb7e304a6637746.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/401-6e60ee3ab13a84ce.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/165-4ec2600001888911.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-14754cb6b0504a35.js" defer="" crossorigin=""></script><script src="/_next/static/kJxfpRQQyGIN4m6m9HTPj/_buildManifest.js" defer="" crossorigin=""></script><script src="/_next/static/kJxfpRQQyGIN4m6m9HTPj/_ssgManifest.js" defer="" crossorigin=""></script></head><body><div id="__next"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="w-full min-h-screen dark:bg-dark-bg dark:text-white"><div class="max-w-screen-md px-4 py-12 mx-auto antialiased font-body"><header class="flex items-center justify-between  mb-2"><meta name="description" content="My chaotic thoughts on computers, statistics, finance, and data"/><meta name="keywords" content="francisco javier arceo, data science, finance, fintech, engineering, django, python"/><meta property="og:type" content="website"/><meta property="og:title" content="Francisco&#x27;s Random Thoughts"/><meta property="og:locale" content="en_US"/><meta property="og:description" content="My chaotic thoughts on computers, statistics, finance, and data"/><meta property="og:image" content="https://og-image.now.sh/Francisco&#x27;s%20Random%20Thoughts.png?theme=light&amp;md=0&amp;fontSize=75px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><meta name="twitter:description" content="My chaotic thoughts on computers, statistics, finance, and data"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="franciscojarceo"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-71125809-1/"></script><script src="/ga.js"></script><div class="max-w-md"><a class="text-2xl font-black text-black no-underline font-display dark:text-white" href="/">Francisco Javier Arceo</a></div><script type="application/ld+json">{"@context":"https://schema.org","@type":"Person","name":"Francisco Javier Arceo","alternateName":"Francisco&apos;s Random Thoughts","alumniOf":{"@type":"CollegeOrUniversity","name":["Columbia University in the City of New York","Clemson University","Illinois State University"]},"knowsAbout":["Django","Data Science","Statistics","Machine Learning","Economics","Econometrics","Computer Science","Natural Language Processing"]}</script></header><main style="padding-bottom:10px"><article><header class="mb-8"><h1 class="mb-2 text-6xl font-black leading-none font-display">Deploying a Next.js Site using Github Actions</h1><p class="text-sm">January 3, 2021</p></header><div class="mb-4 prose lg:prose-lg dark:prose-dark"><p>I&#x27;m a huge fan of <a href="https://github.com/features/actions">GitHub Actions</a>. They&#x27;re so simple but so effective at doing such a broad range of things. In short, you can tell GitHub do something on a computer everytime you push to your repository (or to a branch on a specific repository like the <pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code style="white-space:pre;color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:#6272a4">1</span><span></span></code></pre> branch).</p>
<p>For today&#x27;s post, I&#x27;ll focus on how I used an action to automate deploying my static site built with Next.js to <a href="https://pages.github.com">GitHub Pages</a>.</p>
<p>I made this blog on a repository hosted on GitHub and added a GitHub Action to compile the JavaScript/React code into static HTML files. This really didn&#x27;t require all that much effort.</p>
<p>Here&#x27;s what I had to do:</p>
<ol>
<li>Build a Next.js blog following the <a href="https://nextjs.org/learn/basics/create-nextjs-app">detailed tutorial</a> and store the code on a GitHub repository</li>
<li>Create a workflow file in the repository with the following path: <a href="https://github.com/franciscojavierarceo/franciscojavierarceo.github.io/blob/main/.github/workflows/integrate.yml"><strong>./github/workflows/integrate.yml</strong></a></li>
<li>Specify that workflow file to export the static files whenever I push to <strong>main</strong> and <em>commit</em> the exported files to a separate branch called <strong>gh-pages</strong> (you can just follow the workflow file I used)</li>
<li>Manually add a <strong>.nojekyll</strong> file to the <strong>gh-pages</strong> branch (this is to resolve <a href="https://github.com/vercel/next.js/issues/2029">this bug</a>)</li>
<li>Configure my repository Settings so that it sources the GitHub Pages build from the <strong>gh-pages</strong> branch</li>
</ol>
<p>And that&#x27;s it, adding new blog posts is as simple as creating a new <a href="https://www.markdownguide.org/">markdown</a> file and pushing to the <strong>main</strong> branch. The GitHub Action will handle all of the rest!</p>
<p>This is much nicer in behavior than my old site, which was built using Jekyll (a Ruby framework) and it&#x27;s much less work than building a full application with Django to get high quality page loads. I’d add that I’m a huge fan of Django but I think for a static, fast, and lightweight site, Next.js my new go to!</p></div></article></main><footer class="text-lg font-light"><div style="padding-top:10px;padding-bottom:10px"><a class="text-lg font-bold" href="/">← Back home</a></div><hr/><div><p>Like this blog? Check out the code on my<!-- --> <a href="https://github.com/franciscojavierarceo/franciscojavierarceo.github.io" class="text-link-blue">GitHub</a>.</p><p>Built with<!-- --> <a href="https://nextjs.org/" class="text-link-blue">Next.js</a> and ☕</p></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"frontmatter":{"title":"Deploying a Next.js Site using Github Actions","description":"GitHub Actions to Deploy a Static Site built with Next.js","date":"January 3, 2021"},"post":{"content":"\nI'm a huge fan of [GitHub Actions](https://github.com/features/actions). They're so simple but so effective at doing such a broad range of things. In short, you can tell GitHub do something on a computer everytime you push to your repository (or to a branch on a specific repository like the `main` branch).\n\nFor today's post, I'll focus on how I used an action to automate deploying my static site built with Next.js to [GitHub Pages](https://pages.github.com).\n\nI made this blog on a repository hosted on GitHub and added a GitHub Action to compile the JavaScript/React code into static HTML files. This really didn't require all that much effort.\n\n\nHere's what I had to do:\n\n1. Build a Next.js blog following the [detailed tutorial](https://nextjs.org/learn/basics/create-nextjs-app) and store the code on a GitHub repository\n2. Create a workflow file in the repository with the following path: [**./github/workflows/integrate.yml**](https://github.com/franciscojavierarceo/franciscojavierarceo.github.io/blob/main/.github/workflows/integrate.yml)\n3. Specify that workflow file to export the static files whenever I push to **main** and *commit* the exported files to a separate branch called **gh-pages** (you can just follow the workflow file I used)\n4. Manually add a **.nojekyll** file to the **gh-pages** branch (this is to resolve [this bug](https://github.com/vercel/next.js/issues/2029))\n5. Configure my repository Settings so that it sources the GitHub Pages build from the **gh-pages** branch\n\nAnd that's it, adding new blog posts is as simple as creating a new [markdown](https://www.markdownguide.org/) file and pushing to the **main** branch. The GitHub Action will handle all of the rest!\n\nThis is much nicer in behavior than my old site, which was built using Jekyll (a Ruby framework) and it's much less work than building a full application with Django to get high quality page loads. I’d add that I’m a huge fan of Django but I think for a static, fast, and lightweight site, Next.js my new go to!","excerpt":""},"previousPost":{"slug":"next-js-blog","frontmatter":{"title":"Learning Next.js","description":"Learning the Next JavaScript Framework","date":"January 2, 2021"},"excerpt":"","content":"\nIn the spirit of my last blog post talking about learning new things, I decided to learn \u003ca href=\"https://nextjs.org/\"\u003eNext.JS\u003c/a\u003e, which is a JavaScript framework built on top of \u003ca href=\"https://reactjs.org/\"\u003eReact\u003c/a\u003e for web development. One of the main reasons I was particularly interested in Next.JS was because of it's opinionated optimizations.\n\nIn my last post I mentioned that I spent a lot of time learning about the technical details of Search Engine Optimization (SEO) and trying to optimize my Django application for that. I was ultimately reasonably successful in it but much of the logic to do so was tedious to author and rather unpleasant, which is why I'm excited about Next.JS, since it automates much of this for you right out of the box.\n\nTo learn it, I built this blog using their \u003ca href=\"https://nextjs.org/learn/basics/create-nextjs-app\"\u003etutorial\u003c/a\u003e, which I highly recommend!\n\nMy goal is to move \u003ca href=\"https://www.unidosfin.com/en\"\u003eUnidos\u003c/a\u003e to Next.JS for the front-end and keep the Django back-end, much of which I've already converted to APIs."},"nextPost":{"slug":"i-love-code","frontmatter":{"title":"I Love Code","description":"Some thoughts on the elegance of code.","date":"January 6, 2021"},"excerpt":"","content":"\nI love code. Plain and simple.\n\nI didn't always though. I started programming at 21 years old during my first masters—I was studying statistics and used code only as a means for running regression models and doing microeconometrics research. I started statistical programming back in 2011 using [STATA](https://www.stata.com/) and [SAS](https://www.sas.com/). They weren't *real* programming languages by a computer scientist's standards but that is technically how I started.\n\nI eventually moved onto to learning [SQL](https://en.wikipedia.org/wiki/SQL) and [R](https://www.r-project.org/about.html) when I started working and I found myself often writing Monte Carlo simulations of harmonic regressions, two stage least-squares, and other machine learning/statistical phenomenon.\n\nAnd that's how it started. I began learning [Python](https://www.python.org/) more actively at work and it mostly increased from there. During my second masters I started learning [Lua](http://www.lua.org/) in order to use [Torch](http://torch.ch/), which was used by [facebook AI](https://ai.facebook.com/) before [PyTorch](https://pytorch.org/) was developed. Then at Goldman I had to learn proprietary tools like Slang. Now I've spent the last year learning much more about [JavaScript](https://www.javascript.com/) and web development in general, and I just couldn't help but reflect and think about how much I actually *enjoy* it.\n\nIt's 2021 now and it's officially beeen a 10 year journey learning how to code (although what can only be argued as chaotically and poorly across different disciplines). Back when I first started I had no idea how anything in a computer worked and I was really, really bad at it. \n\nIt was miserable and I always felt deeply insecure about my code. I feel lucky now that I'm no longer code-shy and I don't struggle as much as I used to. That's not to say I don't have typos or bugs (I do!) but it's more to say that it's much easier these days for me to read through and understand how things are working and how to debug.\n\nBut that took me 10 years and it was a literal headache for most of the time. I'm curious to see what I'll feel in 10 years and what else I'll have learned.\n\nAll that just to show this beautiful piece of code, which is *a* way to write a function which takes as input *n* and yields its [Fibonacci Number](https://en.wikipedia.org/wiki/Fibonacci_number).\n\n```python\ndef f(n: int) -\u003e int:\n    assert n\u003e0, 'n \u003e 0'\n    if n \u003c 3:\n        return {1:0, 2:1}[n]\n    return f(n-1) + f(n-2)\n```\n\nWhich simply encodes $F_n = F_{n-1} + F_{n-2} \\forall n \u003e 1$, where $F_1 = F_2 = 1$.\n\nThis code is both brief *and* elegant. That's what I love about it. In 5 little lines so much of human collaboration and information is represented. To think that 5 little lines could do all of that is astounding to me, I genuinely find it beauitful. I guess that's because I just love code."}},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"github-actions"},"buildId":"kJxfpRQQyGIN4m6m9HTPj","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>